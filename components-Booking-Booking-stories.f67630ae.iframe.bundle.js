"use strict";(self.webpackChunkbook_it_coworking_frontend=self.webpackChunkbook_it_coworking_frontend||[]).push([[6258],{"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _toConsumableArray}});var arrayLikeToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return(0,arrayLikeToArray.Z)(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||(0,unsupportedIterableToArray.Z)(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./src/components/Booking/Booking.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:function(){return Example},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Booking_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-router/dist/index.js"),Api=__webpack_require__("./src/utils/Api.jsx"),Button=__webpack_require__("./src/components/UI-kit/Button/Button.jsx"),SectionTitle=__webpack_require__("./src/components/SectionTitle/SectionTitle.jsx"),Calendar=__webpack_require__("./src/components/Calendar/Calendar.jsx"),TabSwitcher=__webpack_require__("./src/components/TabSwitcher/TabSwitcher.jsx"),ButtonsList=__webpack_require__("./src/components/ButtonsList/ButtonsList.jsx"),constants=__webpack_require__("./src/utils/constants.jsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),getDateString=function getDateString(date){var month=date.getMonth()+1,monthString=month<10?"0".concat(month):month.toString();return"".concat(date.getFullYear(),"-").concat(monthString,"-").concat(date.getDate())},getTimeWithZeroPrefixedMinutes=function getTimeWithZeroPrefixedMinutes(timeArray){var resultTime="".concat(timeArray[0],":");return resultTime="".concat(resultTime).concat(timeArray[1]<10?"0".concat(timeArray[1]):timeArray[1])},getRangeItem=function getRangeItem(id,startTime,endTime,onItemClick){return{id:id,name:"".concat(getTimeWithZeroPrefixedMinutes(startTime)," - ").concat(getTimeWithZeroPrefixedMinutes(endTime)),startTime:startTime.map((function(item){return item<10?"0".concat(item):item})).join(":"),endTime:endTime.map((function(item){return item<10?"0".concat(item):item})).join(":"),onClick:onItemClick,isEnabled:!0}},getHourAndMinutes=function getHourAndMinutes(time){return time.split(":").map((function(item){return parseInt(item,10)}))},timeSortFunc=function timeSortFunc(a,b){var _getHourAndMinutes9=getHourAndMinutes(a.startTime),_getHourAndMinutes10=(0,slicedToArray.Z)(_getHourAndMinutes9,2),firstHour=_getHourAndMinutes10[0],firstMinutes=_getHourAndMinutes10[1],_getHourAndMinutes11=getHourAndMinutes(b.startTime),_getHourAndMinutes12=(0,slicedToArray.Z)(_getHourAndMinutes11,2),secondHour=_getHourAndMinutes12[0],secondMinutes=_getHourAndMinutes12[1];return firstHour===secondHour?firstMinutes-secondMinutes:firstHour-secondHour},spotsSortFunc=function spotsSortFunc(a,b){return parseInt(a.name,10)-parseInt(b.name,10)},Booking_Booking=function Booking(){var _ref,_ref2,_ref4,_ref8,_ref9,location=(0,dist.TH)(),navigate=(0,dist.s0)(),coworking=(0,react.useRef)(location.state),_useState=(0,react.useState)(coworking),_useState2=(0,slicedToArray.Z)(_useState,2),currentCoworkingState=_useState2[0],setCurrentCoworkingState=_useState2[1],_useState3=(0,react.useState)(""),_useState4=(0,slicedToArray.Z)(_useState3,2),planPhoto=_useState4[0],setPlanPhoto=_useState4[1],_useState5=(0,react.useState)([]),_useState6=(0,slicedToArray.Z)(_useState5,2),datesSelected=_useState6[0],setDatesSelected=_useState6[1],_useState7=(0,react.useState)([]),_useState8=(0,slicedToArray.Z)(_useState7,2),timeRangesSelected=_useState8[0],setTimeRangesSelected=_useState8[1],_useState9=(0,react.useState)([]),_useState10=(0,slicedToArray.Z)(_useState9,2),spotsSelected=_useState10[0],setSpotsSelected=_useState10[1],_useState11=(0,react.useState)([]),_useState12=(0,slicedToArray.Z)(_useState11,2),meetingRoomsSelected=_useState12[0],setMeetingRoomsSelected=_useState12[1],_useState13=(0,react.useState)(""),_useState14=(0,slicedToArray.Z)(_useState13,2),currentSpotPrice=_useState14[0],setCurrentSpotPrice=_useState14[1],_useState15=(0,react.useState)(""),_useState16=(0,slicedToArray.Z)(_useState15,2),currentMeetingPrice=_useState16[0],setCurrentMeetingPrice=_useState16[1],_useState17=(0,react.useState)(""),_useState18=(0,slicedToArray.Z)(_useState17,2),totalPrice=_useState18[0],setTotalPrice=_useState18[1],_useState19=(0,react.useState)([]),_useState20=(0,slicedToArray.Z)(_useState19,2),spots=_useState20[0],setSpots=_useState20[1],_useState21=(0,react.useState)([]),_useState22=(0,slicedToArray.Z)(_useState21,2),meetingRooms=_useState22[0],setMeetingRooms=_useState22[1],_useState23=(0,react.useState)(!0),_useState24=(0,slicedToArray.Z)(_useState23,2),isSpotsEnabled=_useState24[0],setSpotsEnabled=_useState24[1],_useState25=(0,react.useState)(!1),_useState26=(0,slicedToArray.Z)(_useState25,2),isWorkplacesEnabled=_useState26[0],setWorkplacesEnabled=_useState26[1],_useState27=(0,react.useState)(!1),_useState28=(0,slicedToArray.Z)(_useState27,2),isMeetingRoomsEnabled=_useState28[0],setMeetingRoomsEnabled=_useState28[1],handleTimeItemClick=function handleTimeItemClick(_x){return(_ref=_ref||(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(selectedRanges){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:setTimeRangesSelected(selectedRanges);case 1:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)},_useState29=(0,react.useState)([]),_useState30=(0,slicedToArray.Z)(_useState29,2),timeRangeItems=_useState30[0],setTimeRangeItems=_useState30[1],allowedRanges=(0,react.useMemo)((function(){return function getAllowedRanges(baseRanges,itemsList){return baseRanges.reduce((function(ranges,allowedRange){var _getHourAndMinutes=getHourAndMinutes(allowedRange.startTime),_getHourAndMinutes2=(0,slicedToArray.Z)(_getHourAndMinutes,2),allowedRangeStartHour=_getHourAndMinutes2[0],allowedRangeStartMinutes=_getHourAndMinutes2[1],_getHourAndMinutes3=getHourAndMinutes(allowedRange.endTime),_getHourAndMinutes4=(0,slicedToArray.Z)(_getHourAndMinutes3,2),allowedRangeEndHour=_getHourAndMinutes4[0],allowedRangeEndMinutes=_getHourAndMinutes4[1],range=itemsList.reduce((function(itemsRange,item){var _getHourAndMinutes5=getHourAndMinutes(item.startTime),_getHourAndMinutes6=(0,slicedToArray.Z)(_getHourAndMinutes5,2),itemStartHour=_getHourAndMinutes6[0],itemStartMinutes=_getHourAndMinutes6[1],_getHourAndMinutes7=getHourAndMinutes(item.endTime),_getHourAndMinutes8=(0,slicedToArray.Z)(_getHourAndMinutes7,2),itemEndHour=_getHourAndMinutes8[0],itemEndMinutes=_getHourAndMinutes8[1];return itemStartHour>=allowedRangeStartHour&&itemStartMinutes>=allowedRangeStartMinutes&&itemEndHour<=allowedRangeEndHour&&itemEndMinutes<=allowedRangeEndMinutes&&itemsRange.push(item.id),itemsRange}),[]);return range.length>0&&ranges.push(range),ranges}),[])}(constants.mG,timeRangeItems)}),[timeRangeItems]),handleSpotSelect=function handleSpotSelect(selectedItems){setSpotsSelected(selectedItems)},handleMeetingRoomSelect=function handleMeetingRoomSelect(selectedItems){setMeetingRoomsSelected(selectedItems)},getSelectedPrice=function getSelectedPrice(selectedItems){return selectedItems.reduce((function(sum,item){return sum+parseInt(item.price,10)}),0)},calendarExtraRules=(0,react.useCallback)((function(){return[function(date){return function getNormalizedDayNumber(date){var dayNumber=date.getDay();return 0===dayNumber?7:dayNumber}(date)>constants.PG[currentCoworkingState.daysOpen]}]}),[currentCoworkingState])(),getWorkplacesData=(0,react.useCallback)((function(_x2){return(_ref4=_ref4||(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee3(_ref3){var id,date,startTime,endTime,result,spotsData,meetingRoomsData;return(0,regeneratorRuntime.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return id=_ref3.id,date=_ref3.date,startTime=_ref3.startTime,endTime=_ref3.endTime,result={},_context3.prev=2,_context3.next=5,(0,Api.T4)(id,{category:constants.Zq,date:date,start_time:startTime,end_time:endTime});case 5:return spotsData=_context3.sent.map((function(item){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{isEnabled:!item.is_ordered,onClick:handleSpotSelect})})),_context3.next=8,(0,Api.T4)(id,{category:constants.Yi,date:date,start_time:startTime,end_time:endTime});case 8:meetingRoomsData=_context3.sent.map((function(item){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{isEnabled:!item.is_ordered,onClick:handleMeetingRoomSelect})})),result={spots:spotsData,meetingRooms:meetingRoomsData},_context3.next=15;break;case 12:_context3.prev=12,_context3.t0=_context3.catch(2),console.log(_context3.t0.message);case 15:return _context3.abrupt("return",result);case 16:case"end":return _context3.stop()}}),_callee3,null,[[2,12]])})))).apply(this,arguments)}),[]),mergeSpotsStates=function mergeSpotsStates(firstSpots,secondSpots){return firstSpots?secondSpots?firstSpots.map((function(firtsItem){var secondItem=secondSpots.find((function(item){return firtsItem.id===item.id}));return(0,objectSpread2.Z)((0,objectSpread2.Z)({},firtsItem),{},{isEnabled:firtsItem.isEnabled&&secondItem.isEnabled})})):firstSpots:secondSpots},loadWorkplaces=(0,react.useCallback)((0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee6(){var _ref6,resultSpots;return(0,regeneratorRuntime.Z)().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,datesSelected.reduce((function(_x3,_x4){return(_ref6=_ref6||(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee5(dateResult,selectedDate){var _ref7,dateSpots;return(0,regeneratorRuntime.Z)().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,timeRangesSelected.reduce((function(_x5,_x6){return(_ref7=_ref7||(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee4(timeResult,timeRange){var timeItem,preparedDate,receivedWorkplaces;return(0,regeneratorRuntime.Z)().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(timeItem=timeRangeItems.find((function(item){return item.id===timeRange.id}))){_context4.next=3;break}return _context4.abrupt("return",timeResult);case 3:return preparedDate="".concat(selectedDate.getFullYear(),"-").concat(selectedDate.getMonth()+1,"-").concat(selectedDate.getDate()),_context4.next=6,getWorkplacesData({id:coworking.current.id,date:preparedDate,startTime:timeItem.startTime,endTime:timeItem.endTime});case 6:return receivedWorkplaces=_context4.sent,_context4.abrupt("return",{spots:mergeSpotsStates(timeResult.spots,receivedWorkplaces.spots),meetingRooms:mergeSpotsStates(timeResult.meetingRooms,receivedWorkplaces.meetingRooms)});case 8:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}),{});case 2:return dateSpots=_context5.sent,_context5.abrupt("return",{spots:mergeSpotsStates(dateResult.spots,dateSpots.spots),meetingRooms:mergeSpotsStates(dateResult.meetingRooms,dateSpots.meetingRooms)});case 4:case"end":return _context5.stop()}}),_callee5)})))).apply(this,arguments)}),{});case 2:(resultSpots=_context6.sent).spots&&(setSpots(resultSpots.spots),setMeetingRooms(resultSpots.meetingRooms));case 4:case"end":return _context6.stop()}}),_callee6)}))),[datesSelected,timeRangesSelected,timeRangeItems,getWorkplacesData]),loadWorkplacesInitial=(0,react.useCallback)((function(_x7){return(_ref8=_ref8||(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee7(coworkingState){var date,tomorrowDate,preparedDate,resultSpots;return(0,regeneratorRuntime.Z)().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return date=new Date,tomorrowDate=new Date(date.getFullYear(),date.getMonth(),date.getDate()+1),preparedDate="".concat(tomorrowDate.getFullYear(),"-").concat(tomorrowDate.getMonth()+1,"-").concat(tomorrowDate.getDate()),_context7.next=5,getWorkplacesData({id:coworkingState.id,date:preparedDate,startTime:coworkingState.openTime,endTime:coworkingState.closeTime});case 5:resultSpots=_context7.sent,setSpots(resultSpots.spots),setMeetingRooms(resultSpots.meetingRooms);case 8:case"end":return _context7.stop()}}),_callee7)})))).apply(this,arguments)}),[getWorkplacesData]),loadPlanPhoto=(0,react.useCallback)((function(_x8){return(_ref9=_ref9||(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee8(locationId){var _yield$getLocationPla,image;return(0,regeneratorRuntime.Z)().wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.prev=0,_context8.next=3,(0,Api.v5)(locationId);case 3:_yield$getLocationPla=_context8.sent,image=_yield$getLocationPla.image,setPlanPhoto(image),_context8.next=11;break;case 8:_context8.prev=8,_context8.t0=_context8.catch(0),console.log(_context8.t0.message);case 11:case"end":return _context8.stop()}}),_callee8,null,[[0,8]])})))).apply(this,arguments)}),[]),getAvailableTimeRanges=(0,react.useCallback)((function(currentTimeRanges){return currentTimeRanges.map((function(timeRange){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},timeRange),{},{isEnabled:!datesSelected.some((function(date){var todayDate=new Date;if(function isSameDateDay(firstDate,secondDate){var firstDay=new Date(firstDate.getFullYear(),firstDate.getMonth(),firstDate.getDate()),secondDay=new Date(secondDate.getFullYear(),secondDate.getMonth(),secondDate.getDate());return firstDay.getTime()===secondDay.getTime()}(date,todayDate)){var _getHourAndMinutes13=getHourAndMinutes(timeRange.startTime),_getHourAndMinutes14=(0,slicedToArray.Z)(_getHourAndMinutes13,2),rangeStartHour=_getHourAndMinutes14[0],rangeStartMinutes=_getHourAndMinutes14[1],todayHour=todayDate.getHours(),todayMinutes=todayDate.getMinutes();return!(rangeStartHour>todayHour)&&(rangeStartHour!==todayHour||rangeStartMinutes<todayMinutes)}return!1}))})}))}),[datesSelected]);return(0,react.useEffect)((function(){isSpotsEnabled||setSpotsSelected([]),isMeetingRoomsEnabled||setMeetingRoomsSelected([]),isWorkplacesEnabled||(setSpotsSelected([]),setMeetingRoomsSelected([]))}),[isSpotsEnabled,isMeetingRoomsEnabled,isWorkplacesEnabled]),(0,react.useEffect)((function(){var spotPrice=getSelectedPrice(spotsSelected);setCurrentSpotPrice(0===spotPrice?"​":"".concat(spotPrice," ₽/час"));var meetingRoomPrice=getSelectedPrice(meetingRoomsSelected);setCurrentMeetingPrice(0===meetingRoomPrice?"​":"".concat(meetingRoomPrice," ₽/час")),setTotalPrice(spotPrice*timeRangesSelected.length+meetingRoomPrice*timeRangesSelected.length)}),[spotsSelected,meetingRoomsSelected,timeRangesSelected]),(0,react.useEffect)((function(){if(timeRangesSelected.length>0)return loadWorkplaces(),void setWorkplacesEnabled(!0);setWorkplacesEnabled(!1)}),[timeRangesSelected,loadWorkplaces]),(0,react.useEffect)((function(){datesSelected.length>0&&setTimeRangeItems(getAvailableTimeRanges),setTimeRangesSelected([])}),[datesSelected,getAvailableTimeRanges]),(0,react.useEffect)((function(){var coworkingState=JSON.parse(sessionStorage.getItem("coworkingState"));if(coworking.current||coworkingState){coworking.current||(coworking.current=coworkingState),setCurrentCoworkingState(coworking.current),sessionStorage.setItem("coworkingState",JSON.stringify(coworking.current));var _coworking$current=coworking.current,id=_coworking$current.id,openTime=_coworking$current.openTime,closeTime=_coworking$current.closeTime;setTimeRangeItems(function getTimeRangeItems(startTime,endTime,onItemClick){var _startTime$split$map=startTime.split(":").map((function(i){return parseInt(i,10)})),_startTime$split$map2=(0,slicedToArray.Z)(_startTime$split$map,2),startHour=_startTime$split$map2[0],startMinutes=_startTime$split$map2[1],_endTime$split$map=endTime.split(":").map((function(i){return parseInt(i,10)})),_endTime$split$map2=(0,slicedToArray.Z)(_endTime$split$map,2),endHour=_endTime$split$map2[0],endMinutes=_endTime$split$map2[1],resultRanges=[];if(startHour>endHour)throw new Error("End hour can't be less than start hour: start hour - \"".concat(startHour,'", end hour - ').concat(endHour));for(var i=0;i<endHour-startHour;i+=1){var rangeStartHour=startHour+i,rangeEndHour=rangeStartHour+1,rangeStartTime=[rangeStartHour,startMinutes],rangeEndTime=[rangeEndHour,startMinutes];if(rangeStartHour===endHour&&startMinutes>=endMinutes)break;if(rangeStartHour===endHour&&startMinutes<endMinutes){resultRanges.push(getRangeItem(i,rangeStartTime,"".concat(rangeEndHour,":").concat(endMinutes),onItemClick));break}rangeEndHour===endHour&&(rangeEndTime=[rangeEndHour,endMinutes]),resultRanges.push(getRangeItem(i,rangeStartTime,rangeEndTime,onItemClick))}return resultRanges}(openTime,closeTime,handleTimeItemClick)),loadPlanPhoto(id),loadWorkplacesInitial(coworking.current)}else navigate("/",{replace:!0})}),[loadPlanPhoto,loadWorkplacesInitial,navigate]),(0,jsx_runtime.jsxs)("main",{className:"booking","aria-label":"Страница бронирования",children:[(0,jsx_runtime.jsx)(Button.Z,{onClick:function handleBackButton(e){e.preventDefault(),navigate(-1)},btnClass:"button_type_back",btnText:"Назад"}),(0,jsx_runtime.jsx)(SectionTitle.N,{titleText:"Бронирование"}),(0,jsx_runtime.jsxs)("section",{className:"booking__section","aria-label":"Секция выбора даты и времени",children:[(0,jsx_runtime.jsx)("h2",{className:"booking__section-title",children:"1. Выберите дату и время"}),(0,jsx_runtime.jsxs)("div",{className:"booking__flex-container",children:[(0,jsx_runtime.jsx)(Calendar.f,{selectCallback:function handleCalendarClick(dates){setDatesSelected(dates)},extraRules:calendarExtraRules}),(0,jsx_runtime.jsx)(ButtonsList.C,{isEnabled:datesSelected.length>0,listType:"time-ranges",itemsList:timeRangeItems,allowedRanges:allowedRanges,sortFunc:timeSortFunc})]})]}),(0,jsx_runtime.jsxs)("section",{className:"booking__section","aria-label":"Секция выбора рабочего места",children:[(0,jsx_runtime.jsx)("h2",{className:"booking__section-title",children:"2. Выберете тип рабочего места"}),(0,jsx_runtime.jsx)("img",{className:"booking__plan-photo",src:planPhoto,alt:"Схема коворкинга"}),(0,jsx_runtime.jsxs)("div",{className:"booking__flex-container",children:[(0,jsx_runtime.jsx)(TabSwitcher.r,{firstCaption:"Общая зона",secondCaption:"Переговорная",containerClassName:"booking__spot-switcher",onClick:function handleSwitcherClick(selectedSpotType){if("Общая зона"===selectedSpotType)return setSpotsEnabled(!0),void setMeetingRoomsEnabled(!1);setSpotsEnabled(!1),setMeetingRoomsEnabled(!0)}}),(0,jsx_runtime.jsxs)("div",{className:"booking__tabs-container",children:[(0,jsx_runtime.jsxs)("section",{className:"booking__tab".concat(isWorkplacesEnabled?"":" booking__text-disabled"),children:[(0,jsx_runtime.jsx)("h3",{className:"booking__tab-title",children:"Одна цифра - одно рабочее место"}),(0,jsx_runtime.jsx)("p",{className:"booking__spot-price",children:currentSpotPrice}),(0,jsx_runtime.jsx)(ButtonsList.C,{isEnabled:isWorkplacesEnabled&&isSpotsEnabled&&datesSelected.length>0&&timeRangesSelected.length>0,listType:"spots",itemsList:spots,sortFunc:spotsSortFunc})]}),(0,jsx_runtime.jsxs)("section",{className:"booking__tab".concat(isMeetingRoomsEnabled?"":" booking__text-disabled"),children:[(0,jsx_runtime.jsx)("h3",{className:"booking__tab-title",children:"В одной переговорной 8 мест"}),(0,jsx_runtime.jsx)("p",{className:"booking__spot-price",children:currentMeetingPrice}),(0,jsx_runtime.jsx)(ButtonsList.C,{isEnabled:isWorkplacesEnabled&&isMeetingRoomsEnabled&&datesSelected.length>0&&timeRangesSelected.length>0,listType:"meeting-rooms",itemsList:meetingRooms,sortFunc:spotsSortFunc})]})]})]})]}),(0,jsx_runtime.jsxs)("section",{className:"booking__section","aria-label":"Секция итоговой суммы к оплате",children:[(0,jsx_runtime.jsx)("h2",{className:"booking__section-title",children:"Сумма к оплате: ".concat(totalPrice)}),(0,jsx_runtime.jsx)(Button.Z,{btnClass:"button_type_form button_size_middle",btnText:"Перейти к оплате",isValidBtn:!!totalPrice,onClick:function handlePayClick(){return(_ref2=_ref2||(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(){var _spotsSelected$at,workplaceCategory,selectedWorkplaces,selectedSpotId,selectedDate,timeSeleted,_timeSeleted$at,startTime,_timeSeleted$at2,endTime,_yield$postOrder,orderId;return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return workplaceCategory=constants.Zq,selectedWorkplaces=spotsSelected.map((function(item){return item.name})).join(", "),selectedSpotId=null===(_spotsSelected$at=spotsSelected.at(0))||void 0===_spotsSelected$at?void 0:_spotsSelected$at.id,selectedDate=datesSelected.at(0),timeSeleted=(0,toConsumableArray.Z)(timeRangesSelected).sort(timeSortFunc),_timeSeleted$at=timeSeleted.at(0),startTime=_timeSeleted$at.startTime,_timeSeleted$at2=timeSeleted.at(-1),endTime=_timeSeleted$at2.endTime,meetingRoomsSelected.length>0&&(selectedSpotId=meetingRoomsSelected.at(0).id,workplaceCategory=constants.Yi,selectedWorkplaces=meetingRoomsSelected.map((function(item){return item.name})).join(", ")),_context2.prev=8,_context2.next=11,(0,Api.mv)(coworking.current.id,selectedSpotId,{date:getDateString(selectedDate),start_time:startTime,end_time:endTime});case 11:_yield$postOrder=_context2.sent,orderId=_yield$postOrder.id,navigate("/payments",{state:{id:coworking.current.id,spotId:selectedSpotId,name:coworking.current.name,location:coworking.current.location,category:workplaceCategory,equipment:selectedWorkplaces,date:selectedDate,startTime:startTime,endTime:endTime,bill:totalPrice,orderId:orderId}}),_context2.next=19;break;case 16:_context2.prev=16,_context2.t0=_context2.catch(8),console.log(_context2.t0.message);case 19:case"end":return _context2.stop()}}),_callee2,null,[[8,16]])})))).apply(this,arguments)}})]})]})};Booking_Booking.defaultProps={location:{id:null,openTime:null,closeTime:null,daysOpen:null}},Booking_Booking.__docgenInfo={description:"",methods:[],displayName:"Booking",props:{location:{defaultValue:{value:"{\n  id: null,\n  openTime: null,\n  closeTime: null,\n  daysOpen: null,\n}",computed:!1},description:"",type:{name:"shape",value:{id:{name:"number",required:!1},openTime:{name:"string",required:!1},closeTime:{name:"string",required:!1},daysOpen:{name:"string",required:!1}}},required:!1}}};var _Example$parameters,_Example$parameters2,_Example$parameters2$,exampleBookingData=__webpack_require__("./src/config/exampleBookingData.js"),Booking_stories={title:"Pages/Booking",component:Booking_Booking,tags:["autodocs"],parameters:{layout:"fullscreen"},argTypes:{location:{description:"Данные коворкинга"}}},Example=function Example(){return(0,jsx_runtime.jsx)(Booking_Booking,{location:exampleBookingData.zd})};Example.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Example.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Example$parameters=Example.parameters)||void 0===_Example$parameters?void 0:_Example$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"() => <Booking location={locationData} />"},null===(_Example$parameters2=Example.parameters)||void 0===_Example$parameters2||null===(_Example$parameters2$=_Example$parameters2.docs)||void 0===_Example$parameters2$?void 0:_Example$parameters2$.source)})});var __namedExportsOrder=["Example"];Example.__docgenInfo={description:"",methods:[],displayName:"Example"}},"./src/components/ButtonsList/ButtonsList.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{C:function(){return ButtonsList_ButtonsList}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),Button=__webpack_require__("./src/components/UI-kit/Button/Button.jsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),defaultSort=function defaultSort(a,b){return a.name.localeCompare(b.name)},ButtonsList_ButtonsList=function ButtonsList(_ref){var _ref$listType=_ref.listType,listType=void 0===_ref$listType?"time-ranges":_ref$listType,_ref$itemsList=_ref.itemsList,itemsList=void 0===_ref$itemsList?[]:_ref$itemsList,_ref$isEnabled=_ref.isEnabled,isEnabled=void 0===_ref$isEnabled||_ref$isEnabled,_ref$isMultiselect=_ref.isMultiselect,isMultiselect=void 0!==_ref$isMultiselect&&_ref$isMultiselect,_ref$isSelectByRanges=_ref.isSelectByRanges,isSelectByRanges=void 0===_ref$isSelectByRanges||_ref$isSelectByRanges,_ref$allowedRanges=_ref.allowedRanges,allowedRanges=void 0===_ref$allowedRanges?[]:_ref$allowedRanges,_ref$ariaLabel=_ref.ariaLabel,ariaLabel=void 0===_ref$ariaLabel?"Список кнопок":_ref$ariaLabel,_ref$listClassName=_ref.listClassName,listClassName=void 0===_ref$listClassName?"":_ref$listClassName,_ref$itemsClassName=_ref.itemsClassName,itemsClassName=void 0===_ref$itemsClassName?"":_ref$itemsClassName,_ref$sortFunc=_ref.sortFunc,sortFunc=void 0===_ref$sortFunc?defaultSort:_ref$sortFunc,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),selectedItems=_useState2[0],setSelectedItems=_useState2[1],_useState3=(0,react.useState)([]),_useState4=(0,slicedToArray.Z)(_useState3,2),itemsStatesList=_useState4[0],setItemsStatesList=_useState4[1],getClassName=function getClassName(id){var resultClass="buttons-list__button button_type_buttons-list button_type_transparent".concat(itemsClassName?" ".concat(itemsClassName):"");return selectedItems.find((function(item){return item.id===id}))&&(resultClass+=" button_type_buttons-list-selected"),resultClass},isBelongsToSameRanges=function isBelongsToSameRanges(items,ranges){return!(ranges.length<1)&&ranges.some((function(range){return items.every((function(item){return range.includes(item.id)}))}))},handleClick=function handleClick(item,onClick){var resultSelected=[],currentItemsStatusList=itemsStatesList,isAlreadySelected=!!selectedItems.find((function(selectedItem){return item.id===selectedItem.id}));resultSelected=isAlreadySelected&&isSelectByRanges?[]:isAlreadySelected?selectedItems.filter((function(selectedItem){return selectedItem.id!==item.id})):[].concat((0,toConsumableArray.Z)(selectedItems),[item]),isSelectByRanges&&resultSelected.length>1&&!isMultiselect&&(resultSelected=function getAutoSelectedItems(currentSelectedItem,currentSelectedItems,currentItemsStatusList){var currentSelected=(0,toConsumableArray.Z)(currentSelectedItems).sort(sortFunc),firstSelectedElementIndex=currentItemsStatusList.findIndex((function(item){return item.id===currentSelected[0].id}));return isBelongsToSameRanges(currentSelectedItems,allowedRanges)?currentItemsStatusList.slice(firstSelectedElementIndex).reduce((function(result,item){return currentSelected.find((function(currentItem){return currentItem.id===item.id}))?(result.push(item),currentSelected=currentSelected.filter((function(selectedItem){return selectedItem.id!==item.id})),result):(item.isEnabled&&isBelongsToSameRanges([].concat((0,toConsumableArray.Z)(currentSelected),[item]),allowedRanges)&&currentSelected.length>0&&result.push(item),result)}),[]):[currentSelectedItem]}(item,resultSelected,currentItemsStatusList)),setSelectedItems(resultSelected),onClick(resultSelected)};return(0,react.useEffect)((function(){var resultItemsList=(0,toConsumableArray.Z)(itemsList).sort(sortFunc);setSelectedItems([]),setItemsStatesList(isEnabled?(0,toConsumableArray.Z)(resultItemsList):resultItemsList.map((function(item){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{isEnabled:!1})})))}),[itemsList,isEnabled,sortFunc]),(0,jsx_runtime.jsx)("section",{className:"buttons-list","aria-label":ariaLabel,children:(0,jsx_runtime.jsx)("ul",{className:"buttons-list__container buttons-list__container_type_".concat(listType).concat(listClassName?" ".concat(listClassName):""),children:itemsStatesList.map((function(item){var id=item.id,name=item.name,_onClick=item.onClick,isButtonEnabled=item.isEnabled;return(0,jsx_runtime.jsx)("li",{className:"buttons-list__item",children:(0,jsx_runtime.jsx)(Button.Z,{btnClass:getClassName(id),btnType:"button",btnText:name,onClick:function onClick(){return handleClick(item,_onClick)},isValidBtn:isButtonEnabled},"".concat(name,"-button-").concat(id))},"".concat(name,"-item-").concat(id))}))})})};ButtonsList_ButtonsList.defaultProps={listType:"time-ranges",itemsList:[],isEnabled:!0,isMultiselect:!1,isSelectByRanges:!0,allowedRanges:[],ariaLabel:"Список кнопок",listClassName:"",itemsClassName:"",sortFunc:defaultSort},ButtonsList_ButtonsList.__docgenInfo={description:"",methods:[],displayName:"ButtonsList",props:{listType:{defaultValue:{value:'"time-ranges"',computed:!1},description:"",type:{name:"enum",value:[{value:'"time-ranges"',computed:!1},{value:'"spots"',computed:!1},{value:'"meeting-rooms"',computed:!1}]},required:!1},itemsList:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"number",required:!1},name:{name:"string",required:!1},onClick:{name:"func",required:!1},isEnabled:{name:"bool",required:!1}}}},required:!1},isEnabled:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},isMultiselect:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isSelectByRanges:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},allowedRanges:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"arrayOf",value:{name:"number"}}},required:!1},ariaLabel:{defaultValue:{value:'"Список кнопок"',computed:!1},description:"",type:{name:"string"},required:!1},listClassName:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},itemsClassName:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},sortFunc:{defaultValue:{value:"(a, b) => a.name.localeCompare(b.name)",computed:!1},description:"",type:{name:"func"},required:!1}}}},"./src/components/Calendar/Calendar.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{f:function(){return Calendar_Calendar}});var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),constants=__webpack_require__("./src/utils/constants.jsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),getStartDayOfWeek=function getStartDayOfWeek(date){var dayNumber=new Date(date.getFullYear(),date.getMonth(),1).getDay();return 0===dayNumber?7:dayNumber},getMonthDays=function getMonthDays(date){return new Date(date.getFullYear(),date.getMonth()+1,0).getDate()},Calendar_Calendar=function Calendar(_ref){var _ref$selectCallback=_ref.selectCallback,selectCallback=void 0===_ref$selectCallback?null:_ref$selectCallback,_ref$isMultiSelect=_ref.isMultiSelect,isMultiSelect=void 0!==_ref$isMultiSelect&&_ref$isMultiSelect,_ref$initialDate=_ref.initialDate,initialDate=void 0===_ref$initialDate?null:_ref$initialDate,_ref$maxDatesRange=_ref.maxDatesRange,maxDatesRange=void 0===_ref$maxDatesRange?constants.VE:_ref$maxDatesRange,_ref$extraRules=_ref.extraRules,extraRules=void 0===_ref$extraRules?null:_ref$extraRules,MONTHS_NAMES=["ЯНВАРЬ","ФЕВРАЛЬ","МАРТ","АПРЕЛЬ","МАЙ","ИЮНЬ","ИЮЛЬ","АВГУСТ","СЕНТЯБРЬ","ОКТЯБРЬ","НОЯБРЬ","ДЕКАБРЬ"],todayDate=new Date,lastPermitedDate=new Date(todayDate.getFullYear(),todayDate.getMonth(),todayDate.getDate()+maxDatesRange-1),_useState=(0,react.useState)(todayDate),_useState2=(0,slicedToArray.Z)(_useState,2),date=_useState2[0],setDate=_useState2[1],_useState3=(0,react.useState)([]),_useState4=(0,slicedToArray.Z)(_useState3,2),selectedDates=_useState4[0],setSelectedDates=_useState4[1],_useState5=(0,react.useState)(date.getMonth()),_useState6=(0,slicedToArray.Z)(_useState5,2),month=_useState6[0],setMonth=_useState6[1],_useState7=(0,react.useState)(date.getFullYear()),_useState8=(0,slicedToArray.Z)(_useState7,2),year=_useState8[0],setYear=_useState8[1],_useState9=(0,react.useState)(getStartDayOfWeek(date)),_useState10=(0,slicedToArray.Z)(_useState9,2),startDay=_useState10[0],setStartDay=_useState10[1],_useState11=(0,react.useState)(getMonthDays(date)),_useState12=(0,slicedToArray.Z)(_useState11,2),currentMonthDays=_useState12[0],setCurrentMonthDays=_useState12[1],days=new Date(date.getFullYear(),date.getMonth()+1,0).getDate(),isDateSelected=function isDateSelected(dateArray,cellDate){return dateArray.some((function(selectedDate){return selectedDate.getTime()===cellDate.getTime()}))},getCellContentClass=function getCellContentClass(nowDate,cellDay,currentDate,monthDays){var cellDate=new Date(currentDate.getFullYear(),currentDate.getMonth(),cellDay);return isDateSelected(selectedDates,cellDate)?" calendar__button_highlighted":cellDay<1?" calendar__button_previous-month":cellDay>monthDays?" calendar__button_next-month":function isDayDateEarlier(firstDate,secondDate){var firstDay=new Date(firstDate.getFullYear(),firstDate.getMonth(),firstDate.getDate()),secondDay=new Date(secondDate.getFullYear(),secondDate.getMonth(),secondDate.getDate());return firstDay.getTime()<secondDay.getTime()}(cellDate,nowDate)||function isDayDateLater(firstDate,secondDate){var firstDay=new Date(firstDate.getFullYear(),firstDate.getMonth(),firstDate.getDate()),secondDay=new Date(secondDate.getFullYear(),secondDate.getMonth(),secondDate.getDate());return firstDay.getTime()>secondDay.getTime()}(cellDate,lastPermitedDate)||extraRules&&!function isDateAllowed(currentDate){return Array.isArray(extraRules)?!extraRules.some((function(checkFunc){return checkFunc(currentDate)})):null}(cellDate)?" calendar__button_inaccessible-days":""};return(0,react.useEffect)((function(){setMonth(date.getMonth()),setYear(date.getFullYear()),setStartDay(getStartDayOfWeek(date)),setCurrentMonthDays(getMonthDays(date))}),[date]),(0,react.useEffect)((function(){initialDate&&setDate(new Date(initialDate))}),[initialDate]),(0,react.useEffect)((function(){selectCallback&&selectCallback(selectedDates)}),[selectedDates,selectCallback]),(0,jsx_runtime.jsxs)("article",{className:"calendar",children:[(0,jsx_runtime.jsxs)("header",{className:"calendar__header",children:[(0,jsx_runtime.jsx)("h3",{className:"calendar__header-title",children:"".concat(MONTHS_NAMES[month]," ").concat(year)}),(0,jsx_runtime.jsxs)("nav",{className:"calendar__navigation",children:[(0,jsx_runtime.jsx)("button",{className:"calendar__navigation-button calendar__navigation-button_type_previous","aria-label":"Предыдущий месяц",onClick:function handlePreviousClick(){setDate(new Date(date.getFullYear(),date.getMonth(),0))}}),(0,jsx_runtime.jsx)("button",{className:"calendar__navigation-button calendar__navigation-button_type_next","aria-label":"Следующий месяц",onClick:function handleNextClick(){setDate(new Date(date.getFullYear(),date.getMonth()+1,1))}})]})]}),(0,jsx_runtime.jsxs)("div",{className:"calendar__body",children:[["пн","вт","ср","чт","пт","сб","вс"].map((function(dayName){return(0,jsx_runtime.jsx)("div",{className:"calendar__cell calendar__cell_type_header",children:(0,jsx_runtime.jsx)("span",{children:dayName})},dayName)})),Array(function getCalendarDaysCount(daysOfMonth,startDayIndex){var resultDays=daysOfMonth+startDayIndex,daysRemainder=resultDays%7;return 0!==daysRemainder&&(resultDays+=7-daysRemainder),resultDays}(days,startDay-1)).fill(null).map((function(_,index){var cellDay=index-(startDay-2),key="cell".concat(index),cellText=function getCellText(cellDay,currentDate,monthDays){var resultDay=cellDay;return resultDay<1?new Date(currentDate.getFullYear(),currentDate.getMonth(),0).getDate()+resultDay:(resultDay>monthDays&&(resultDay-=monthDays),resultDay<10?"0".concat(resultDay):resultDay.toString())}(cellDay,date,currentMonthDays);return(0,jsx_runtime.jsx)("div",{className:"calendar__cell",children:(0,jsx_runtime.jsx)("button",{className:"calendar__button".concat(getCellContentClass(todayDate,cellDay,date,currentMonthDays)),onClick:function onClick(){return function handleCellClick(cellDay,monthDays){if(cellDay<1)setDate(new Date(date.getFullYear(),date.getMonth(),0));else if(cellDay>monthDays)setDate(new Date(date.getFullYear(),date.getMonth()+1,1));else{var cellDate=new Date(date.getFullYear(),date.getMonth(),cellDay);isDateSelected(selectedDates,cellDate)?setSelectedDates(selectedDates.filter((function(selectedDate){return selectedDate.getTime()!==cellDate.getTime()}))):setSelectedDates(isMultiSelect?function(prev){return[].concat((0,toConsumableArray.Z)(prev),[cellDate])}:[cellDate])}}(cellDay,currentMonthDays)},type:"button","aria-label":"".concat(MONTHS_NAMES[month]," ").concat(cellDay),children:cellText},"".concat(key,"button"))},key)}))]})]})};Calendar_Calendar.defaultProps={selectCallback:null,isMultiSelect:!1,initialDate:null,maxDatesRange:constants.VE,extraRules:null},Calendar_Calendar.__docgenInfo={description:"",methods:[],displayName:"Calendar",props:{selectCallback:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},isMultiSelect:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},initialDate:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},maxDatesRange:{defaultValue:{value:"CALENDAR_MAX_ALLOWED_DAYS",computed:!0},description:"",type:{name:"number"},required:!1},extraRules:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"arrayOf",value:{name:"func"}},required:!1}}}},"./src/components/TabSwitcher/TabSwitcher.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{r:function(){return TabSwitcher_TabSwitcher}});var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),TabSwitcher_TabSwitcher=function TabSwitcher(_ref){var _ref$firstCaption=_ref.firstCaption,firstCaption=void 0===_ref$firstCaption?"":_ref$firstCaption,_ref$secondCaption=_ref.secondCaption,secondCaption=void 0===_ref$secondCaption?"":_ref$secondCaption,_ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?null:_ref$onClick,_ref$containerClassNa=_ref.containerClassName,containerClassName=void 0===_ref$containerClassNa?"":_ref$containerClassNa,_ref$itemClassName=_ref.itemClassName,itemClassName=void 0===_ref$itemClassName?"":_ref$itemClassName,_useState=(0,react.useState)(firstCaption),_useState2=(0,slicedToArray.Z)(_useState,2),selectedItem=_useState2[0],setSelectedItem=_useState2[1],handleClick=function handleClick(item){setSelectedItem(item),onClick&&onClick(item)},getItemClassName=function getItemClassName(item){var resultClassName="tab-switcher__item";return item===selectedItem&&(resultClassName+=" ".concat(resultClassName,"_active")),itemClassName&&(resultClassName+=" ".concat(itemClassName)),resultClassName};return(0,jsx_runtime.jsxs)("ul",{className:function getContainerClassName(){var resultClassName="tab-switcher".concat(containerClassName?" ".concat(containerClassName):"");return selectedItem===secondCaption&&(resultClassName+=" tab-switcher_second-selected"),resultClassName}(),children:[(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{type:"button",className:getItemClassName(firstCaption),onClick:function onClick(){return handleClick(firstCaption)},children:firstCaption})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{type:"button",className:getItemClassName(secondCaption),onClick:function onClick(){return handleClick(secondCaption)},children:secondCaption})})]})};TabSwitcher_TabSwitcher.defaultProps={firstCaption:"",secondCaption:"",onClick:null,containerClassName:"",itemClassName:""},TabSwitcher_TabSwitcher.__docgenInfo={description:"",methods:[],displayName:"TabSwitcher",props:{firstCaption:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},secondCaption:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},onClick:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},containerClassName:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},itemClassName:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1}}}},"./src/config/exampleBookingData.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{LE:function(){return spotsButtonsList},lc:function(){return meetingRoomsButtonsList},vp:function(){return timesButtonsList},zd:function(){return locationData}});var _EQUIPMENT_GENERAL_CA,_EQUIPMENT_MEETING_CA,_ORDERED_SPOTS,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_utils_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/constants.jsx"),timeClickFunc=function timeClickFunc(){},spotClickFunc=timeClickFunc,meetingRoomClickFunc=timeClickFunc,timesButtonsList=(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(Array(15).fill(null).map((function(_,index){return{id:index,name:"".concat(7+index,":00 - ").concat(8+index,":00"),onClick:timeClickFunc,isEnabled:!0}}))),spotsButtonsList=(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(Array(30).fill(null).map((function(_,index){return{id:index,name:"".concat(1+index,"dddddddddddddddddddddddddd"),onClick:spotClickFunc,isEnabled:!0}}))),meetingRoomsButtonsList=(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(Array(3).fill(null).map((function(_,index){return{id:index,name:"".concat(1+index," Переговорнаяddddddddddddd"),onClick:meetingRoomClickFunc,isEnabled:!0}}))),getStringDateAfterDays=function getStringDateAfterDays(date,days){var newDate=new Date(date.getFullYear(),date.getMonth(),date.getDate()+days);return"".concat(newDate.getFullYear(),"-").concat(newDate.getMonth()+1,"-").concat(newDate.getDate())},todayDate=new Date,ORDERED_SPOTS=(_ORDERED_SPOTS={},(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ORDERED_SPOTS,_utils_constants__WEBPACK_IMPORTED_MODULE_0__.Zq,(_EQUIPMENT_GENERAL_CA={},(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_EQUIPMENT_GENERAL_CA,getStringDateAfterDays(todayDate,0),{5:{startTime:"09:00",endTime:"12:00"},7:{startTime:"11:00",endTime:"12:00"},11:{startTime:"14:00",endTime:"15:00"}}),(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_EQUIPMENT_GENERAL_CA,getStringDateAfterDays(todayDate,1),{4:{startTime:"09:00",endTime:"12:00"},8:{startTime:"07:00",endTime:"08:00"},9:{startTime:"16:00",endTime:"17:00"},23:{startTime:"18:00",endTime:"19:00"}}),(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_EQUIPMENT_GENERAL_CA,getStringDateAfterDays(todayDate,2),{5:{startTime:"09:00",endTime:"12:00"},8:{startTime:"10:00",endTime:"11:00"},10:{startTime:"10:00",endTime:"11:00"},14:{startTime:"09:00",endTime:"12:00"}}),_EQUIPMENT_GENERAL_CA)),(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ORDERED_SPOTS,_utils_constants__WEBPACK_IMPORTED_MODULE_0__.Yi,(_EQUIPMENT_MEETING_CA={},(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_EQUIPMENT_MEETING_CA,getStringDateAfterDays(todayDate,0),{1:{startTime:"09:00",endTime:"12:00"}}),(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_EQUIPMENT_MEETING_CA,getStringDateAfterDays(todayDate,1),{2:{startTime:"10:00",endTime:"11:00"}}),(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_EQUIPMENT_MEETING_CA,getStringDateAfterDays(todayDate,2),{1:{startTime:"14:00",endTime:"15:00"},2:{startTime:"11:00",endTime:"12:00"}}),_EQUIPMENT_MEETING_CA)),_ORDERED_SPOTS),getSpots=function getSpots(type,count){return(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(Array(count).fill(null).map((function(_,index){return{id:index,name:"".concat((index+1).toString()).concat(type===_utils_constants__WEBPACK_IMPORTED_MODULE_0__.Yi?" переговорная":""),price:type===_utils_constants__WEBPACK_IMPORTED_MODULE_0__.Yi?600:200,category:type,isOrdered:!1}})))},locationData={id:1,open_time:"07:00",close_time:"22:00",days_open:"пн-сб",dates:function getSpotsForDays(daysCount){for(var resultDays={},i=0;i<daysCount;i+=1){var _getStringDateAfterDa;resultDays=(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},resultDays),{},(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},getStringDateAfterDays(todayDate,i),(_getStringDateAfterDa={},(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_getStringDateAfterDa,_utils_constants__WEBPACK_IMPORTED_MODULE_0__.Zq,getSpots(_utils_constants__WEBPACK_IMPORTED_MODULE_0__.Zq,30)),(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_getStringDateAfterDa,_utils_constants__WEBPACK_IMPORTED_MODULE_0__.Yi,getSpots(_utils_constants__WEBPACK_IMPORTED_MODULE_0__.Yi,3)),_getStringDateAfterDa)))}return resultDays}(3),getSpots:function getSpots(type,date,startTime,endTime){var resultSpots=this.dates[date][type],orderedSpots=ORDERED_SPOTS[type][date],startHour=startTime.split(":")[0],endHour=endTime.split(":")[0];return resultSpots.map((function(item){var orderedRange=orderedSpots[item.id];if(!orderedRange)return item;var orderedStartHour=orderedRange.startTime.split(":")[0],orderedEndHour=orderedRange.endTime.split(":")[0];return(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},item),{},{isOrdered:startHour>=orderedStartHour&&startHour<orderedEndHour||endHour>orderedStartHour&&endHour<=orderedEndHour})}))}}},"./src/utils/constants.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{H6:function(){return DEFAULT_LONGITUDE},HM:function(){return MAX_REVIEW_CHARACTERS_NUMBER},Hr:function(){return SUCCESSFUL_DISLIKE},JI:function(){return MOBILE_SHORT_POINTS_QUANTITY},LR:function(){return NOT_FOUND_ERROR_SUBTITLE},Nz:function(){return LAPTOP_REVIEWS_QUANTITY},PG:function(){return WORKING_DAYS_COUNTS},Q2:function(){return SCREEN_MEDIUM},Q_:function(){return PROFILE_DATA_UPDATE},UT:function(){return MOBILE_MORE_SHORT_POINTS_QUANTITY},VE:function(){return CALENDAR_MAX_ALLOWED_DAYS},Wp:function(){return NOT_FOUND_ERROR_TITLE},X3:function(){return LAPTOP_MORE_SHORT_POINTS_QUANTITY},Xd:function(){return routesPopup},Yi:function(){return EQUIPMENT_MEETING_CATEGORY},Zq:function(){return EQUIPMENT_GENERAL_CATEGORY},f2:function(){return activeLinkClass},h6:function(){return headerActiveLinkClass},iP:function(){return TABLET_MORE_SHORT_POINTS_QUANTITY},l0:function(){return SCREEN_SMALL},m6:function(){return DEFAULT_ZOOM},mG:function(){return ALLOWED_TIME_RANGES},mV:function(){return DEFAULT_LATITUDE},nU:function(){return LAPTOP_SHORT_POINTS_QUANTITY},ph:function(){return SUCCESSFUL_LIKE},rq:function(){return ORDER_STATUSES},vZ:function(){return TABLET_SHORT_POINTS_QUANTITY}});var SCREEN_MEDIUM=1270,SCREEN_SMALL=770,LAPTOP_SHORT_POINTS_QUANTITY=6,TABLET_SHORT_POINTS_QUANTITY=4,MOBILE_SHORT_POINTS_QUANTITY=3,LAPTOP_MORE_SHORT_POINTS_QUANTITY=3,TABLET_MORE_SHORT_POINTS_QUANTITY=2,MOBILE_MORE_SHORT_POINTS_QUANTITY=2,LAPTOP_REVIEWS_QUANTITY=5,EQUIPMENT_GENERAL_CATEGORY="Рабочее место",EQUIPMENT_MEETING_CATEGORY="Переговорная",DEFAULT_LATITUDE=59.9,DEFAULT_LONGITUDE=30.3,DEFAULT_ZOOM=11,WORKING_DAYS_COUNTS={"пн-вс":7,"пн-сб":6,"пн-пт":5},CALENDAR_MAX_ALLOWED_DAYS=60,ALLOWED_TIME_RANGES=[{startTime:"09:00",endTime:"12:00"}],routesPopup=["/popup/login","/popup/register","/popup/reset_password"],ORDER_STATUSES={WAIT_PAY:"Ожидается оплата",PAID:"Оплачено",FINISH:"Завершен",CANCEL:"Отменен",NOT_PAID:"Не оплачено"},MAX_REVIEW_CHARACTERS_NUMBER=300,PROFILE_DATA_UPDATE="Данные успешно обновлены",NOT_FOUND_ERROR_TITLE="Этого мы не нашли",NOT_FOUND_ERROR_SUBTITLE="Попробуйте изменить параметры поиска и повторите попытку",SUCCESSFUL_LIKE="Добавлено в избранное",SUCCESSFUL_DISLIKE="Удалено из избранного",activeLinkClass="navigation__link navigation__link_active",headerActiveLinkClass="header__profile_nav header__profile_nav_active"}}]);
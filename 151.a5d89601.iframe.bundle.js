"use strict";(self.webpackChunkbook_it_coworking_frontend=self.webpackChunkbook_it_coworking_frontend||[]).push([[151],{"./src/components/Forms/SearchForm/SearchForm.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return SearchForm_SearchForm}});var react=__webpack_require__("./node_modules/react/index.js"),Button=__webpack_require__("./src/components/UI-kit/Button/Button.jsx"),Input=__webpack_require__("./src/components/UI-kit/Input/Input.jsx");var search_icon=__webpack_require__.p+"static/media/search-icon.658a05391653e8b01afc9d4843d3931a.svg",SortData=__webpack_require__("./src/components/UI-kit/SortData/SortData.jsx"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),MultiChoiceDropdown_MultiChoiceDropdown=function MultiChoiceDropdown(_ref){var dropdownName=_ref.dropdownName,dropdownTitle=_ref.dropdownTitle,array=_ref.array,size=_ref.size,handleSelectChange=_ref.handleSelectChange,dropdownRef=(0,react.useRef)(null),_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),open=_useState2[0],setOpen=_useState2[1],_useState3=(0,react.useState)([]),_useState4=(0,slicedToArray.Z)(_useState3,2),selectedItems=_useState4[0],setSelectedItems=_useState4[1],handleClickOutside=function handleClickOutside(event){dropdownRef.current&&!dropdownRef.current.contains(event.target)&&setOpen(!1)};(0,react.useEffect)((function(){return document.body.addEventListener("click",handleClickOutside),function(){return document.body.removeEventListener("click",handleClickOutside)}}),[]);return(0,react.useEffect)((function(){handleSelectChange((0,defineProperty.Z)({},dropdownName,selectedItems))}),[selectedItems]),(0,jsx_runtime.jsx)("section",{ref:dropdownRef,className:"dropdown dropdown_size_".concat(size),"aria-label":"Filter by ".concat(dropdownTitle),children:(0,jsx_runtime.jsxs)("div",{className:"dropdown__items dropdown__items_size_".concat(size," ").concat(open&&"dropdown__items_active"),children:[(0,jsx_runtime.jsxs)("div",{className:"dropdown__label",children:[(0,jsx_runtime.jsx)("p",{className:"dropdown__label-text",children:selectedItems&&selectedItems.length?selectedItems.join(", "):dropdownTitle}),(0,jsx_runtime.jsx)("button",{type:"button",className:"dropdown__label-button ".concat(open&&"dropdown__label-button_active"),onClick:function onClick(){return setOpen(!open)},tabIndex:0,"aria-label":"Toggle dropdown menu"})]}),open&&(0,jsx_runtime.jsx)("div",{className:"dropdown__popup",children:(0,jsx_runtime.jsx)("ul",{className:"dropdown__popup-list",children:array.map((function(item){return(0,jsx_runtime.jsx)("button",{onClick:function onClick(){return function toggleItem(item){setSelectedItems((function(prevSelected){return prevSelected.includes(item)?prevSelected.filter((function(i){return i!==item})):[].concat((0,toConsumableArray.Z)(prevSelected),[item])}))}(item)},type:"button",className:"dropdown__item ".concat(selectedItems.includes(item)?"dropdown__item_selected":""),children:item},function simpleHash(str){for(var hash=0,i=0;i<str.length;i+=1){var charCode=str.charCodeAt(i);hash=Math.pow(2,5)-hash+charCode,hash=Number(hash)}return hash}(item))}))})})]})})};MultiChoiceDropdown_MultiChoiceDropdown.defaultProps={size:""},MultiChoiceDropdown_MultiChoiceDropdown.__docgenInfo={description:"",methods:[],displayName:"MultiChoiceDropdown",props:{size:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},dropdownTitle:{description:"",type:{name:"string"},required:!0},array:{description:"",type:{name:"arrayOf",value:{name:"string"}},required:!0},handleSelectChange:{description:"",type:{name:"func"},required:!0},dropdownName:{description:"",type:{name:"string"},required:!0}}};var UI_kit_MultiChoiceDropdown_MultiChoiceDropdown=MultiChoiceDropdown_MultiChoiceDropdown,dataOptions=__webpack_require__("./src/config/dataOptions.js"),Api=__webpack_require__("./src/utils/Api.jsx"),useForm=__webpack_require__("./src/hooks/useForm.js"),SearchForm=function SearchForm(_ref){var metroArray=_ref.metroArray,handleUpdateCoworkings=_ref.handleUpdateCoworkings,limit=_ref.limit,offset=_ref.offset,resetPagination=_ref.resetPagination,lastSearchRequest=sessionStorage.getItem("lastSearchRequest")||"",_useForm=(0,useForm.Z)({search:lastSearchRequest,category:"",metro:[]}),form=_useForm.form,handleChange=_useForm.handleChange,handleSelectChange=_useForm.handleSelectChange,inputComponent=react.useMemo((function(){return(0,jsx_runtime.jsx)(Input.Z,{inputClass:"input__search",inputType:"search",inputName:"search",inputValue:form.search,handleChange:handleChange,inputPlaceholder:"Искать по названию",inputRequired:!1})}),[form.search,handleChange]);return(0,jsx_runtime.jsx)("div",{className:"entry-form__container",children:(0,jsx_runtime.jsxs)("form",{className:"entry-form__inner entry-form__inner_select",name:"form",autoComplete:"off",onSubmit:function formSearchSubmit(e){e.preventDefault(),sessionStorage.setItem("lastSearchRequest",form.search),resetPagination(),(0,Api.BV)({search:form.search,category:form.category,metro:form.metro,offset:offset,limit:limit}).then((function(res){handleUpdateCoworkings(res)})).catch((function(error){console.error(error)}))},children:[(0,jsx_runtime.jsxs)("div",{className:"entry-form__search",children:[(0,jsx_runtime.jsx)("img",{src:search_icon,alt:"иконка поиска",className:"entry-form__search-img"}),inputComponent]}),(0,jsx_runtime.jsx)(SortData.Z,{selectName:"category",titleSort:"Вид рабочего места",array:dataOptions.n,size:"max",handleSelectChange:handleSelectChange}),(0,jsx_runtime.jsx)(UI_kit_MultiChoiceDropdown_MultiChoiceDropdown,{dropdownName:"metro",dropdownTitle:"Станции метро",array:metroArray,size:"max",handleSelectChange:handleSelectChange}),(0,jsx_runtime.jsx)(Button.Z,{btnClass:"button_type_form button_type_form-select",btnType:"submit",btnText:"Искать"})]})})};SearchForm.__docgenInfo={description:"",methods:[],displayName:"SearchForm",props:{limit:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"number"},required:!1},offset:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"number"},required:!1},handleUpdateCoworkings:{description:"",type:{name:"func"},required:!0},metroArray:{description:"",type:{name:"arrayOf",value:{name:"string"}},required:!0},resetPagination:{description:"",type:{name:"func"},required:!0}}};var SearchForm_SearchForm=SearchForm;SearchForm.defaultProps={limit:0,offset:0}},"./src/components/UI-kit/Input/Input.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return UI_kit_Input_Input}});__webpack_require__("./node_modules/react/index.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Input_Input(_ref){var inputValue=_ref.inputValue,inputError=_ref.inputError,inputClass=_ref.inputClass,inputType=_ref.inputType,inputName=_ref.inputName,inputPlaceholder=_ref.inputPlaceholder,inputInfo=_ref.inputInfo,handleChange=_ref.handleChange,handleFocus=_ref.handleFocus,inputRequired=_ref.inputRequired,inputDisabled=_ref.inputDisabled,inputMaxLength=_ref.inputMaxLength,inputMinLength=_ref.inputMinLength,inputMaxValue=_ref.inputMaxValue;return(0,jsx_runtime.jsxs)("div",{className:"input__items",children:[inputValue&&(0,jsx_runtime.jsx)("label",{htmlFor:inputName,tabIndex:"-1",className:"input__label ".concat(inputError?"input__label-error":"","}"),children:inputPlaceholder}),(0,jsx_runtime.jsx)("input",{className:"input ".concat(inputClass," ").concat(inputError?"input-error":""),type:inputType,name:inputName,placeholder:inputPlaceholder,value:inputValue||"",onChange:handleChange,onFocus:handleFocus,required:inputRequired,disabled:inputDisabled,maxLength:inputMaxLength,minLength:inputMinLength,autoComplete:"off",max:inputMaxValue}),inputError?(0,jsx_runtime.jsx)("span",{className:"input__text input__text_error",children:inputError}):(0,jsx_runtime.jsx)("span",{className:"input__text input__text_info",children:inputInfo})]})}Input_Input.defaultProps={inputClass:"",inputValue:"",inputError:"",inputName:"",inputPlaceholder:"",inputInfo:"",inputRequired:!0,inputDisabled:!1,inputMaxLength:void 0,inputMinLength:void 0,inputMaxValue:void 0,handleChange:function handleChange(){},handleFocus:function handleFocus(){}},Input_Input.__docgenInfo={description:"",methods:[],displayName:"Input",props:{inputClass:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},inputValue:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},inputError:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},inputName:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},inputPlaceholder:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},inputInfo:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},inputRequired:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},inputDisabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},inputMaxLength:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"number"},required:!1},inputMinLength:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"number"},required:!1},inputMaxValue:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"string"},required:!1},handleChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"custom",raw:"() => {}"},required:!1},handleFocus:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"custom",raw:"() => {}"},required:!1},inputType:{description:"",type:{name:"string"},required:!0}}};var UI_kit_Input_Input=Input_Input},"./src/components/UI-kit/SortData/SortData.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return UI_kit_SortData_SortData}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),SortData_SortData=function SortData(_ref){var titleSort=_ref.titleSort,array=_ref.array,size=_ref.size,handleSelectChange=_ref.handleSelectChange,selectName=_ref.selectName,sortRef=react.useRef(null),_React$useState=react.useState(!1),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1],_React$useState3=react.useState(""),_React$useState4=(0,slicedToArray.Z)(_React$useState3,2),sort=_React$useState4[0],setSort=_React$useState4[1];return react.useEffect((function(){var handleClickOutside=function handleClickOutside(event){sortRef.current&&!sortRef.current.contains(event.target)&&setOpen(!1)};return document.body.addEventListener("click",handleClickOutside),function(){return document.body.removeEventListener("click",handleClickOutside)}}),[]),(0,jsx_runtime.jsx)("section",{ref:sortRef,className:"sort  sort_size-".concat(size),"aria-label":"фильтр коворкингов ".concat(titleSort," "),children:(0,jsx_runtime.jsxs)("div",{className:"sort__items sort__items_size-".concat(size," ").concat(open&&"sort__items_active"," "),children:[(0,jsx_runtime.jsxs)("div",{className:"sort__label",children:[(0,jsx_runtime.jsx)("p",{className:"sort__label_text",children:sort||titleSort}),(0,jsx_runtime.jsx)("button",{type:"button",className:"sort__label_button   ".concat(open&&"sort__label_button-active"," "),onClick:function onClick(){return setOpen(!open)},tabIndex:0,"aria-label":"кнопка открытия выпадающего меню"})]}),open&&(0,jsx_runtime.jsx)("div",{className:"sort__popup",children:(0,jsx_runtime.jsx)("ul",{className:"sort__popup_list",children:array.map((function(data){return(0,jsx_runtime.jsxs)("button",{onClick:function onClick(){return function onClickListItem(obj){var newSort="--"===obj.text?"":obj.text;setSort(newSort),handleSelectChange((0,defineProperty.Z)({},selectName,newSort)),setOpen(!1)}(data)},className:"sort__popup_list-active",children:[data.icon,data.text]},data.id)}))})})]})})};SortData_SortData.defaultProps={size:"",array:[{icon:{}}]},SortData_SortData.__docgenInfo={description:"",methods:[],displayName:"SortData",props:{size:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},array:{defaultValue:{value:"[{ icon: {} }]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"number",required:!0},text:{name:"string",required:!0},icon:{name:"shape",value:{},required:!1}}}},required:!1},titleSort:{description:"",type:{name:"string"},required:!0},handleSelectChange:{description:"",type:{name:"func"},required:!0},selectName:{description:"",type:{name:"string"},required:!0}}};var UI_kit_SortData_SortData=SortData_SortData},"./src/config/dataOptions.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{n:function(){return coWorkingOptions},Z:function(){return metroOptions}});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),MetroIcon=function MetroIcon(_ref){var stroke=_ref.stroke;return(0,jsx_runtime.jsx)("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)("path",{d:"M15.0792 14.6668C15.0792 14.6668 16.9584 12.4335 17.1042 9.80433C17.2959 6.471 16.0542 4.446 14.4042 3.01266C13.6067 2.30397 12.6916 1.73995 11.7001 1.346L9.00007 14.6668L6.2959 1.3335C5.29632 1.71627 4.37655 2.28142 3.58341 3.00016C1.94174 4.44183 0.691739 6.4835 0.879239 9.79183C1.04591 12.4418 2.92091 14.6668 2.92091 14.6668",stroke:stroke,strokeLinecap:"round",strokeLinejoin:"round"})})};MetroIcon.__docgenInfo={description:"",methods:[],displayName:"MetroIcon",props:{stroke:{description:"",type:{name:"string"},required:!0}}};var MetroIcon_MetroIcon=MetroIcon,metroOptions=[{id:0,text:"--",icon:(0,jsx_runtime.jsx)(MetroIcon_MetroIcon,{stroke:"#000"})},{id:1,text:"Зелёная",icon:(0,jsx_runtime.jsx)(MetroIcon_MetroIcon,{stroke:"#1FDF00"})},{id:2,text:"Красная",icon:(0,jsx_runtime.jsx)(MetroIcon_MetroIcon,{stroke:"#FF222F"})},{id:3,text:"Оранжевая",icon:(0,jsx_runtime.jsx)(MetroIcon_MetroIcon,{stroke:"#F97D10"})},{id:4,text:"Синяя",icon:(0,jsx_runtime.jsx)(MetroIcon_MetroIcon,{stroke:"#007FFF"})},{id:5,text:"Фиолетовая",icon:(0,jsx_runtime.jsx)(MetroIcon_MetroIcon,{stroke:"#7A0288"})}],coWorkingOptions=[{id:0,text:"--"},{id:1,text:"Переговорная"},{id:2,text:"Рабочее место"}]},"./src/hooks/useForm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");__webpack_exports__.Z=function useForm(initialState){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState),_useState2=(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState,2),form=_useState2[0],setForm=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),_useState4=(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState3,2),errors=_useState4[0],setErrors=_useState4[1],_useState5=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState6=(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState5,2),isFormValid=_useState6[0],setIsFormValid=_useState6[1],_useState7=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),_useState8=(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState7,2),isActiveInput=_useState8[0],setIsActiveInput=_useState8[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){setIsFormValid(!function hasErrors(err){return Object.values(err).some((function(value){return""!==value}))}(errors)&&function hasValues(val){return!Object.values(val).some((function(value){return""===value}))}(form)&&function checkInitial(){return!Object.keys(form).every((function(key){return form[key]===initialState[key]}))}())}),[form,errors,initialState]),{form:form,setForm:setForm,errors:errors,isFormValid:isFormValid,handleChange:function handleChange(evt){var input=evt.target;setForm((function(prevState){return(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},prevState),{},(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},input.name,input.value))})),setErrors((function(prevState){return(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},prevState),{},(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},input.name,input.validationMessage))}))},handleSelectChange:function handleSelectChange(selectedObj){setForm((function(prevState){return(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},prevState),selectedObj)}))},resetForm:function resetForm(){setForm(initialState)},hardChangeIsFormValid:function hardChangeIsFormValid(boolean){setIsFormValid(boolean)},handleFocus:function handleFocus(evt){setIsActiveInput(evt.target);var input=evt.target;setForm((0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},form),{},{activeInput:input.name}))},handleBlur:function handleBlur(){setForm((0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},form),{},{activeInput:""}))},updateFormInput:function updateFormInput(data){setForm((function(prevForm){return(0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_runner_work_book_it_coworking_frontend_book_it_coworking_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},prevForm),data)}))},isActiveInput:isActiveInput}}}}]);